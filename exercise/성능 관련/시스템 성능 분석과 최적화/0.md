성능이 좋지 않은 복잡한 시스템 환경에 마주칠때
첫 번째 모험은 어디서 분석을 시작하고 어떤 데이터를 모으며, 그 데이터를 어떻게 분석하느냐 하는 문제일 수 있다.

방법론에는 
- 측정 방법
- 측정을 통해 발견한 것을 확인해 가장 문제가 되는 성능 이슈를 파악하기 위한 방법이 포함돼있다.

웹 사이트를 로딩하는데 걸리는 시간 =
- DNS 지연시간 +
- TCP 연결 지연시간 +
- TCP 데이터 전송 시간

성능 이슈는 지연시간으로 수량화할 수 있고 이 경우 모두 동일한 단위(시간)을 사용하기 때문에 순위를 매길 수 있다.

성능 튜닝을 할 때 일반적인 트레이드오프 중 하나는 CPU와 메모리 간의 관계다.
- 메모리는 결과를 캐시하는 데 사용할 수 있고 이는 CPU의 사용을 감소 시킨다.
- CPU 자원이 풍부한 최근의 시스템에서는 CPU를 소비해 데이터를 압축함으로써 메모리 사용을 줄이는 방식으로 관계를 역전시킬 수도 있다.

성능 튜닝은 가능한 작업이 이루어지는 시스템 가까이에서 진행하는 것이 효과가 좋다.

튜닝 대상의 예제
- 어플리케이션 레이어
  - 실행하는 데이터베이스 질의
- 데이터베이스 레이어
  - 데이터베이스 테이블 구조, 인덱스, 버퍼
- 시스템 콜 레이어
  - 메모리 매핑 또는 읽기/쓰기, 동기화 또는 비동기화 관련 I/O 플래그
- 파일 시스템 레이어
  - 레코드 크기, 캐시 크기, 여러 파일 시스템 파라미터
- 저장장치 레이어
  - RAID 수준, 디스크 개수와 유형, 여러 저장장치 파라미터

성능 개선 방식, 그 중에서 튜닝 가능한 파라미터의 값은 특정 시점에만 유효하다.

인터넷 검색을 통해 찾은 튜닝 가능 마라미터 값이 단기간의 성능 이득을 가져올 수도 있다.
하지만 그런 값은 자신의 시스템이나 부하에 적합하지 않거나, 인터넷에 올라온 시점에서는 올바른 추천이었지만
이제는 그렇지 않거나, 소프트웨어 버그를 우회하기 위한 방법이었는데 이제는 그 버그가 고쳐졌기 때문에
오히려 성능 감소를 가져올 수도 있다.

성능 지표는 관심 대상을 측정하기 위해 시스템, 애플리케이션, 또는 도구에서 생성한 통계다.
일반적인 성능 지표로는 다음과 같은 것이 있다.
- IOPS
  - 수루풋 지표지만, 한 I/O 연산을 1로 친다.
- 스루풋
  - 경우에 따라 용례가 달라질 수 있다.
    - 데이베이스
      - 초당 질의나 요청수로 측정한다.
    - 네트워크
      - b/s나 B/s로 측정한다.
- 사용률
- 지연시간


캐시 성능을 이해하기 위한 지표중 하나는 적중률(hit ratio)이다.
캐시 성능을 이해하는 데 도움되는 지표로는 시간당 실패율을 들 수 있다.

성능 분석에는 일반적으로 두 가지 관점이 있다.
각각은 대상이나 지표, 접근법 등이 서로 다르다.
이 둘은 바로 아래의 두 가지이다.
1. 부하 분석
  - 소프트웨어 스택에서 하향식으로 분석
2. 자원 분석
  - 소프트웨어 스택에서 상향식으로 분석
  - 시스템의 자원을 분석하는 것 부터 시작한다.